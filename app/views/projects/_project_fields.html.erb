<section class="w-full mb-12 scroll-mt-32" id="project-fields">
  <div class="border-b border-gray-200 mb-6">

    <nav
      class="-mb-px flex space-x-8 justify-center md:justify-start"
      aria-label="Tabs">

      <%# Shared Styles %>
      <% tab_base =
        "whitespace-nowrap py-4 px-1 border-b-2 font-bold text-lg transition-colors duration-200" %>
      <% tab_active = "border-blue-500 text-blue-600" %>
      <% tab_inactive =
        "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" %>

      <% if show_progress_tab? %>

        <%= link_to "Project Details",
        course_project_path(course, project, tab: "details"),
        class: "#{tab_base} #{current_tab == "details" ? tab_active : tab_inactive}",
        id: "project-details",
        data: {
          turbo_action: "replace",
        } %>

        <%= link_to "Progress Updates",
        course_project_path(course, project, tab: "progress"),
        class: "#{tab_base} #{current_tab == "progress" ? tab_active : tab_inactive}",
        id: "project-progress",
        data: {
          turbo_action: "replace",
        } %>

      <% else %>
        <span
          class="
            whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-bold
            text-gray-900 text-lg
          ">
          Project Details
        </span>
      <% end %>

    </nav>
  </div>

  <div class="min-h-[200px]">
    <% if current_tab == 'details' %>
      <%= render "project_details",
      fields: fields,
      next_fields: next_fields,
      based_on_topic_name: based_on_topic_name %>
    <% elsif current_tab == 'progress' %>
      <%= render "progress_updates", progress_updates: @progress_updates %>
    <% end %>
  </div>

</section>
