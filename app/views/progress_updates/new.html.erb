<% breadcrumb :new_progress_update, @project %>
<% content_for :stylesheets do %>
  <%= stylesheet_link_tag "tailwind", "new_tailwind" %>
<% end %>
<% content_for :title,
"New Progress Update - #{@project.current_title.truncate(TITLE_NAME_LIMIT)} | ProPro" %>

<main class="pt-30 pb-8 px-8 w-full lg:w-10/12 xl:w-8/12 mx-auto">
  <h1 class="text-3xl font-bold mb-[1em]">
    <b>
      Progress Update
    </b>
  </h1>

  <div class="w-full">
    <%= form_with(model: [@course, @project, @progress_update], class: "w-full space-y-6") do |f| %>

      <div class="flex flex-col">
        <%= f.label :rating, class: "block text-[20px] font-bold text-[#1a1a1a] mb-2" %>

        <%= f.select :rating,
                 options_for_select(
                   ProgressUpdate.ratings.keys.map { |s| [s.humanize, s] },
                   @progress_update.rating,
                 ),
                 {},
                 class:
                   "w-full px-4 py-3 border-2 border-gray-200 rounded-md text-base text-gray-700 bg-white focus:outline-none focus:border-blue-500 focus:ring-[3px] focus:ring-blue-500/10 transition-all duration-150" %>
      </div>

      <div class="flex flex-col">
        <%= f.label :feedback, class: "block text-[20px] font-bold text-[#1a1a1a] mb-2" %>

        <%= f.text_area :feedback,
                    class:
                      "w-full px-4 py-3 border-2 border-gray-200 rounded-md text-base text-gray-700 bg-white focus:outline-none focus:border-blue-500 focus:ring-[3px] focus:ring-blue-500/10 transition-all duration-150 min-h-[120px] resize-y font-inherit",
                    required: true,
                    placeholder: "Enter your feedback..." %>
      </div>

      <div class="flex flex-col">
        <%= f.label :date, class: "block text-[20px] font-bold text-[#1a1a1a] mb-2" %>
        <%= f.date_field :date,
                     value: Date.today,
                     class:
                       "w-full px-4 py-3 border-2 border-gray-200 rounded-md text-base text-gray-700 bg-white focus:outline-none focus:border-blue-500 focus:ring-[3px] focus:ring-blue-500/10 transition-all duration-150" %>
      </div>

      <div class="pt-6 border-t border-gray-200">
        <%= f.submit class:
                   "inline-flex items-center justify-center px-6 py-3 text-base font-semibold text-white bg-gray-800 rounded cursor-pointer hover:bg-gray-900 transition-colors min-h-[44px]" %>
      </div>
    <% end %>

    <div class="mt-6">
      <%= link_to "â† Back to Project",
      course_project_path(@course, @project),
      class: "text-blue-600 hover:underline text-sm font-medium" %>
    </div>
  </div>
</main>
